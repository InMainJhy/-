<mujoco model="cafe_long_table">
  <compiler angle="degree" coordinate="local" inertiafromgeom="true" autolimits="true"/>
  <option timestep="0.002" gravity="0 0 -9.81"/>

  <!-- 1. 模型优化与画质提升设置 -->
  <visual>
    <!-- 4K级分辨率输出能力与抗锯齿 -->
    <global offwidth="3840" offheight="2160" fovy="45"/>
    <!-- 提升阴影质量与细节 -->
    <quality shadowsize="4096" offsamples="8"/>
    <!-- 优化光照模型与雾效 -->
    <headlight ambient="0.3 0.3 0.3" diffuse="0.4 0.4 0.4" specular="0.1 0.1 0.1"/>
    <map znear="0.01" zfar="100" shadowscale="0.5"/>
  </visual>

  <statistic extent="4" center="0 0 1"/>

  <asset>
    <!-- 纹理优化：使用高分辨率设置 -->
    <texture name="tex_white_smooth" type="2d" builtin="flat" rgb1="0.96 0.96 0.95" width="1024" height="1024"/> <!-- 提升至1K纹理 -->
    <texture name="tex_metal_black" type="2d" builtin="flat" rgb1="0.15 0.15 0.16" width="1024" height="1024"/>
    <texture name="tex_ceramic" type="2d" builtin="flat" rgb1="0.92 0.92 0.94" width="1024" height="1024"/>
    
    <!-- 材质物理属性优化：增强真实感 -->
    <!-- 桌面：增加微弱反射，模拟高档涂层 -->
    <material name="mat_table_top" texture="tex_white_smooth" reflectance="0.2" shininess="0.3" specular="0.3"/>
    <!-- 金属：增加高光与对比度，模拟烤漆质感 -->
    <material name="mat_frame" texture="tex_metal_black" reflectance="0.3" shininess="0.7" specular="0.8"/>
    <!-- 布艺：低反光，增加粗糙感 -->
    <material name="mat_cushion" rgba="0.95 0.95 0.95 1" reflectance="0.05" shininess="0.1"/>
    <!-- 陶瓷：高光泽，强反射 -->
    <material name="mat_ceramic" texture="tex_ceramic" reflectance="0.6" shininess="0.9" specular="0.9"/>
  </asset>

  <worldbody>
    <!-- 2. 光照系统升级：专业影棚布光 -->
    <!-- 主光 (Key Light)：提供主要照明和阴影 -->
    <light name="key_light" pos="-2 -3 4" dir="0.5 0.6 -0.8" diffuse="0.9 0.85 0.8" specular="0.4 0.4 0.4" castshadow="true" cutoff="60" attenuation="0.5 0 0.1"/>
    
    <!-- 补光 (Fill Light)：柔化阴影，提供环境色 -->
    <light name="fill_light" pos="3 2 3" dir="-0.6 -0.4 -0.6" diffuse="0.3 0.35 0.4" specular="0.1 0.1 0.1" castshadow="false" attenuation="0.5 0 0.1"/>
    
    <!-- 轮廓光 (Back Light)：勾勒物体边缘，增加立体感 -->
    <light name="back_light" pos="0 4 3" dir="0 -0.8 -0.6" diffuse="0.4 0.4 0.35" specular="0.3 0.3 0.3" castshadow="false" attenuation="0.5 0 0.1"/>

    <!-- Floor Optimization -->
    <geom name="floor" type="plane" pos="0 0 0" size="5 4 0.1" rgba="0.82 0.80 0.78 1" material="mat_table_top"/>

    <!-- ================= TABLE ================= -->
    <body name="table" pos="0 0 0">
        <!-- Table Top: 3m long, 0.6m wide, 1.1m high (bar height) -->
        <geom name="table_top" type="box" pos="0 0 1.1" size="1.5 0.3 0.025" material="mat_table_top"/>
        
        <!-- Legs: 3 sets (Left, Center, Right) -->
        
        <!-- Left Leg Frame -->
        <body name="leg_frame_left" pos="-1.3 0 0">
            <geom name="l_post1" type="box" pos="0 -0.2 0.55" size="0.02 0.02 0.55" material="mat_frame"/>
            <geom name="l_post2" type="box" pos="0 0.2 0.55" size="0.02 0.02 0.55" material="mat_frame"/>
            <geom name="l_top_bar" type="box" pos="0 0 1.05" size="0.02 0.2 0.02" material="mat_frame"/>
            <geom name="l_bot_bar" type="box" pos="0 0 0.2" size="0.02 0.2 0.02" material="mat_frame"/>
        </body>

        <!-- Right Leg Frame -->
        <body name="leg_frame_right" pos="1.3 0 0">
            <geom name="r_post1" type="box" pos="0 -0.2 0.55" size="0.02 0.02 0.55" material="mat_frame"/>
            <geom name="r_post2" type="box" pos="0 0.2 0.55" size="0.02 0.02 0.55" material="mat_frame"/>
            <geom name="r_top_bar" type="box" pos="0 0 1.05" size="0.02 0.2 0.02" material="mat_frame"/>
            <geom name="r_bot_bar" type="box" pos="0 0 0.2" size="0.02 0.2 0.02" material="mat_frame"/>
        </body>
        
        <!-- Center Leg Frame -->
        <body name="leg_frame_center" pos="0 0 0">
            <geom name="c_post1" type="box" pos="0 -0.2 0.55" size="0.02 0.02 0.55" material="mat_frame"/>
            <geom name="c_post2" type="box" pos="0 0.2 0.55" size="0.02 0.02 0.55" material="mat_frame"/>
            <geom name="c_bot_bar" type="box" pos="0 0 0.2" size="0.02 0.2 0.02" material="mat_frame"/>
        </body>

        <!-- Long Connecting Beam (Bottom) -->
        <geom name="long_beam" type="box" pos="0 0 0.2" size="1.3 0.015 0.015" material="mat_frame"/>
        
        <!-- Decor -->
        <body name="decor" pos="0 0 1.125">
             <geom name="vase" type="cylinder" pos="0.5 0 0.1" size="0.04 0.1" material="mat_ceramic"/>
             <geom name="branch1" type="capsule" pos="0.5 0 0.25" size="0.005 0.15" euler="10 0 0" rgba="0.3 0.2 0.1 1"/>
             <geom name="branch2" type="capsule" pos="0.5 0 0.25" size="0.005 0.18" euler="-15 20 0" rgba="0.3 0.2 0.1 1"/>
             
             <geom name="bowl_stack" type="ellipsoid" pos="-0.4 0.1 0.03" size="0.08 0.08 0.03" material="mat_ceramic"/>
             <geom name="cup1" type="cylinder" pos="-0.8 -0.1 0.04" size="0.035 0.04" material="mat_ceramic"/>
             <geom name="cup2" type="cylinder" pos="0.2 0.1 0.04" size="0.035 0.04" material="mat_ceramic"/>
        </body>
    </body>

    <!-- ================= STOOLS ================= -->
    
    <!-- Stool 1 -->
    <body name="stool1" pos="-1.0 -0.6 0" euler="0 0 10">
        <geom name="s1_seat" type="cylinder" pos="0 0 0.75" size="0.18 0.03" material="mat_cushion"/>
        <geom name="s1_back" type="box" pos="0 -0.15 0.88" size="0.12 0.02 0.08" material="mat_frame"/>
        <geom name="s1_l1" type="cylinder" fromto="-0.15 -0.15 0   -0.12 -0.12 0.72" size="0.015" material="mat_frame"/>
        <geom name="s1_l2" type="cylinder" fromto=" 0.15 -0.15 0    0.12 -0.12 0.72" size="0.015" material="mat_frame"/>
        <geom name="s1_l3" type="cylinder" fromto="-0.15  0.15 0   -0.12  0.12 0.72" size="0.015" material="mat_frame"/>
        <geom name="s1_l4" type="cylinder" fromto=" 0.15  0.15 0    0.12  0.12 0.72" size="0.015" material="mat_frame"/>
        <geom name="s1_ring" type="cylinder" pos="0 0 0.25" size="0.15 0.01" material="mat_frame"/>
    </body>

    <!-- Stool 2 -->
    <body name="stool2" pos="-0.3 -0.6 0" euler="0 0 -5">
        <geom name="s2_seat" type="cylinder" pos="0 0 0.75" size="0.18 0.03" material="mat_cushion"/>
        <geom name="s2_back" type="box" pos="0 -0.15 0.88" size="0.12 0.02 0.08" material="mat_frame"/>
        <geom name="s2_l1" type="cylinder" fromto="-0.15 -0.15 0   -0.12 -0.12 0.72" size="0.015" material="mat_frame"/>
        <geom name="s2_l2" type="cylinder" fromto=" 0.15 -0.15 0    0.12 -0.12 0.72" size="0.015" material="mat_frame"/>
        <geom name="s2_l3" type="cylinder" fromto="-0.15  0.15 0   -0.12  0.12 0.72" size="0.015" material="mat_frame"/>
        <geom name="s2_l4" type="cylinder" fromto=" 0.15  0.15 0    0.12  0.12 0.72" size="0.015" material="mat_frame"/>
        <geom name="s2_ring" type="cylinder" pos="0 0 0.25" size="0.15 0.01" material="mat_frame"/>
    </body>

    <!-- Stool 3 -->
    <body name="stool3" pos="0.4 -0.6 0" euler="0 0 5">
        <geom name="s3_seat" type="cylinder" pos="0 0 0.75" size="0.18 0.03" material="mat_cushion"/>
        <geom name="s3_back" type="box" pos="0 -0.15 0.88" size="0.12 0.02 0.08" material="mat_frame"/>
        <geom name="s3_l1" type="cylinder" fromto="-0.15 -0.15 0   -0.12 -0.12 0.72" size="0.015" material="mat_frame"/>
        <geom name="s3_l2" type="cylinder" fromto=" 0.15 -0.15 0    0.12 -0.12 0.72" size="0.015" material="mat_frame"/>
        <geom name="s3_l3" type="cylinder" fromto="-0.15  0.15 0   -0.12  0.12 0.72" size="0.015" material="mat_frame"/>
        <geom name="s3_l4" type="cylinder" fromto=" 0.15  0.15 0    0.12  0.12 0.72" size="0.015" material="mat_frame"/>
        <geom name="s3_ring" type="cylinder" pos="0 0 0.25" size="0.15 0.01" material="mat_frame"/>
    </body>

    <!-- Stool 4 -->
    <body name="stool4" pos="1.1 -0.6 0" euler="0 0 -10">
        <geom name="s4_seat" type="cylinder" pos="0 0 0.75" size="0.18 0.03" material="mat_cushion"/>
        <geom name="s4_back" type="box" pos="0 -0.15 0.88" size="0.12 0.02 0.08" material="mat_frame"/>
        <geom name="s4_l1" type="cylinder" fromto="-0.15 -0.15 0   -0.12 -0.12 0.72" size="0.015" material="mat_frame"/>
        <geom name="s4_l2" type="cylinder" fromto=" 0.15 -0.15 0    0.12 -0.12 0.72" size="0.015" material="mat_frame"/>
        <geom name="s4_l3" type="cylinder" fromto="-0.15  0.15 0   -0.12  0.12 0.72" size="0.015" material="mat_frame"/>
        <geom name="s4_l4" type="cylinder" fromto=" 0.15  0.15 0    0.12  0.12 0.72" size="0.015" material="mat_frame"/>
        <geom name="s4_ring" type="cylinder" pos="0 0 0.25" size="0.15 0.01" material="mat_frame"/>
    </body>

    <!-- Stool 5 (Back side) -->
    <body name="stool5" pos="-0.7 0.6 0" euler="0 0 170">
        <geom name="s5_seat" type="cylinder" pos="0 0 0.75" size="0.18 0.03" material="mat_cushion"/>
        <geom name="s5_back" type="box" pos="0 -0.15 0.88" size="0.12 0.02 0.08" material="mat_frame"/>
        <geom name="s5_l1" type="cylinder" fromto="-0.15 -0.15 0   -0.12 -0.12 0.72" size="0.015" material="mat_frame"/>
        <geom name="s5_l2" type="cylinder" fromto=" 0.15 -0.15 0    0.12 -0.12 0.72" size="0.015" material="mat_frame"/>
        <geom name="s5_l3" type="cylinder" fromto="-0.15  0.15 0   -0.12  0.12 0.72" size="0.015" material="mat_frame"/>
        <geom name="s5_l4" type="cylinder" fromto=" 0.15  0.15 0    0.12  0.12 0.72" size="0.015" material="mat_frame"/>
        <geom name="s5_ring" type="cylinder" pos="0 0 0.25" size="0.15 0.01" material="mat_frame"/>
    </body>

    <!-- Stool 6 (Back side) -->
    <body name="stool6" pos="0.8 0.6 0" euler="0 0 190">
        <geom name="s6_seat" type="cylinder" pos="0 0 0.75" size="0.18 0.03" material="mat_cushion"/>
        <geom name="s6_back" type="box" pos="0 -0.15 0.88" size="0.12 0.02 0.08" material="mat_frame"/>
        <geom name="s6_l1" type="cylinder" fromto="-0.15 -0.15 0   -0.12 -0.12 0.72" size="0.015" material="mat_frame"/>
        <geom name="s6_l2" type="cylinder" fromto=" 0.15 -0.15 0    0.12 -0.12 0.72" size="0.015" material="mat_frame"/>
        <geom name="s6_l3" type="cylinder" fromto="-0.15  0.15 0   -0.12  0.12 0.72" size="0.015" material="mat_frame"/>
        <geom name="s6_l4" type="cylinder" fromto=" 0.15  0.15 0    0.12  0.12 0.72" size="0.015" material="mat_frame"/>
        <geom name="s6_ring" type="cylinder" pos="0 0 0.25" size="0.15 0.01" material="mat_frame"/>
    </body>

  </worldbody>
</mujoco>