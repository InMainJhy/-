<?xml version="1.0" encoding="utf-8"?>
<!-- MuJoCo收银台仿真模型 | 可直接加载运行 -->
<mujoco model="supermarket_checkout_counter">
  <!-- 编译配置：从几何形状自动计算惯性 -->
  <compiler angle="radian" inertiafromgeom="true" autolimits="true"/>
  
  <!-- 物理参数：步长0.005秒，重力9.81m/s² -->
  <option timestep="0.005" gravity="0 0 -9.81" iterations="50"/>
  <size nconmax="500" njmax="200" nstack="1000000"/>

  <!-- 材质与纹理定义 -->
  <asset>
    <!-- 木质纹理（收银台主体） -->
    <texture name="wood_tex" type="2d" builtin="checker" 
             rgb1=".6 .4 .2" rgb2=".5 .3 .1" width="200" height="200"/>
    <!-- 金属纹理（扫码枪、收银机） -->
    <texture name="metal_tex" type="2d" builtin="flat" 
             rgb1=".8 .8 .8" rgb2=".7 .7 .7" width="200" height="200"/>
    <!-- 塑料纹理（显示屏） -->
    <texture name="plastic_tex" type="2d" builtin="flat" 
             rgb1=".1 .1 .3" rgb2=".1 .1 .4" width="200" height="200"/>
    
    <!-- 材质绑定 -->
    <material name="wood_mat" texture="wood_tex" texrepeat="5 5" specular=".1" shininess=".1"/>
    <material name="metal_mat" texture="metal_tex" texrepeat="2 2" specular=".9" shininess=".9"/>
    <material name="plastic_mat" texture="plastic_tex" texrepeat="1 1" specular=".5" shininess=".5"/>
  </asset>

  <!-- 物理场景主体 -->
  <worldbody>
    <!-- 地面：无限平面，灰色 -->
    <geom name="floor" type="plane" size="10 10 0.1" pos="0 0 0" rgba=".8 .8 .8 1"/>

    <!-- 收银台主体（高度0.8m，符合真实收银台尺寸） -->
    <body name="checkout_base" pos="0 0 0.8">
      <!-- 收银台台面：长1.2m，宽0.6m，厚0.05m -->
      <geom name="counter_top" type="box" size="1.2 0.6 0.05" pos="0 0 0.1" 
            material="wood_mat" rgba=".6 .4 .2 1" friction=".8 .1 .01"/>
      <!-- 收银台柜体：长1.1m，宽0.5m，高0.8m -->
      <geom name="counter_body" type="box" size="1.1 0.5 0.8" pos="0 0 -0.4" 
            material="wood_mat" rgba=".6 .4 .2 1"/>
      
      <!-- 收银机（右侧） -->
      <body name="cash_register" pos="0.5 0.2 0.15">
        <!-- 显示屏 -->
        <geom name="register_display" type="box" size="0.2 0.15 0.02" pos="0 0 0.1" 
              material="plastic_mat" rgba=".1 .1 .3 1"/>
        <!-- 键盘 -->
        <geom name="register_keyboard" type="box" size="0.15 0.1 0.01" pos="0 0 0.05" 
              material="metal_mat" rgba=".2 .2 .2 1"/>
        <!-- 收银机主机 -->
        <geom name="register_main" type="box" size="0.2 0.18 0.1" pos="0 0 -0.05" 
              material="metal_mat" rgba=".3 .3 .3 1"/>
      </body>

      <!-- 扫码枪（左侧，带旋转关节） -->
      <body name="scanner_base" pos="-0.3 0.2 0.12">
        <!-- 旋转关节：绕X轴旋转，范围-1.0~0.5弧度（-57°~28°） -->
        <joint name="scanner_joint" type="hinge" axis="1 0 0" range="-1.0 0.5" 
               damping="0.1" armature="0.01"/>
        <!-- 扫码枪支架 -->
        <geom name="scanner_arm" type="cylinder" size="0.01 0.15" pos="0 0 0" 
              material="metal_mat" rgba=".2 .2 .2 1"/>
        <!-- 扫码枪头部 -->
        <body name="scanner_head" pos="0 0 -0.15">
          <geom name="scanner_head_geom" type="sphere" size="0.05" 
                material="metal_mat" rgba=".1 .3 .1 1"/>
        </body>
      </body>

      <!-- 收银抽屉（带滑动关节） -->
      <body name="drawer_base" pos="0.5 -0.2 -0.1">
        <!-- 滑动关节：沿Y轴滑动，范围0~0.3m（完全关闭到完全打开） -->
        <joint name="drawer_joint" type="slide" axis="0 1 0" range="0 0.3" 
               damping="0.2" armature="0.01"/>
        <!-- 抽屉本体 -->
        <geom name="drawer" type="box" size="0.2 0.15 0.1" pos="0 0 0" 
              material="metal_mat" rgba=".4 .4 .4 1"/>
      </body>
    </body>

    <!-- 测试商品（可交互） -->
    <body name="test_product" pos="-0.2 0 0.2">
      <geom name="product_geom" type="box" size="0.05 0.03 0.1" rgba="1 0 0 1" 
            density="1000" friction=".5 .1 .01"/>
      <!-- 自由关节：允许商品自由移动/掉落 -->
      <freejoint name="product_joint" damping="0.05"/>
    </body>
  </worldbody>

  <!-- 执行器：控制抽屉和扫码枪 -->
  <actuator>
    <!-- 抽屉控制电机 -->
    <motor name="drawer_motor" joint="drawer_joint" ctrlrange="0 10" 
           ctrllimited="true" gear="5.0"/>
    <!-- 扫码枪控制电机 -->
    <motor name="scanner_motor" joint="scanner_joint" ctrlrange="-5 5" 
           ctrllimited="true" gear="2.0"/>
  </actuator>
</mujoco>

