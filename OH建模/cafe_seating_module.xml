<mujoco model="cafe_seating_module">
  <compiler angle="degree" coordinate="local" inertiafromgeom="true" autolimits="true"/>
  <option timestep="0.002" gravity="0 0 -9.81"/>

  <visual>
    <global offwidth="3840" offheight="2160" fovy="45"/>
    <quality shadowsize="8192" offsamples="16"/>
    <headlight ambient="0.3 0.3 0.3" diffuse="0.4 0.4 0.4" specular="0.1 0.1 0.1"/>
    <map znear="0.01" zfar="100" shadowscale="0.5"/>
  </visual>

  <asset>
    <texture name="tex_wood_light" type="2d" builtin="checker" rgb1="0.83 0.71 0.56" rgb2="0.80 0.67 0.52" width="4096" height="4096" mark="random" markrgb="0.76 0.62 0.45"/>
    <texture name="tex_fabric_white" type="2d" builtin="flat" rgb1="0.95 0.95 0.95" width="4096" height="4096"/>
    <texture name="tex_plant_green" type="2d" builtin="checker" rgb1="0.1 0.5 0.1" rgb2="0.15 0.55 0.15" width="2048" height="2048"/>
    
    <material name="mat_wood_light" texture="tex_wood_light" texrepeat="2 2" reflectance="0.1" shininess="0.2" specular="0.1"/>
    <material name="mat_cushion_white" texture="tex_fabric_white" reflectance="0.05" shininess="0.1"/>
    <material name="mat_plant_green" texture="tex_plant_green" reflectance="0.05" shininess="0.1"/>
    <material name="mat_flower_center" rgba="0.95 0.9 0.2 1" reflectance="0.1" shininess="0.2"/>
    <material name="mat_flower_petal" rgba="0.98 0.98 0.98 1" reflectance="0.1" shininess="0.2"/>
  </asset>

  <worldbody>
    <light name="top_light" pos="0 0 3" dir="0 0 -1" diffuse="0.8 0.8 0.8" specular="0.2 0.2 0.2" castshadow="true"/>
    <geom name="floor_temp" type="plane" pos="0 0 0" size="3 3 0.1" rgba="0.8 0.8 0.8 1"/>

    <!-- Seating Module Group -->
    <body name="seating_module" pos="0 0 0">
      
      <!-- Sofa 1 (Left) -->
      <body name="sofa_left" pos="-1.0 0 0" euler="0 0 0">
        <!-- Wood Base -->
        <geom name="sl_base" type="box" pos="0 0 0.15" size="0.35 0.75 0.15" material="mat_wood_light"/>
        <!-- Back Support -->
        <geom name="sl_back_support" type="box" pos="-0.3 0 0.4" size="0.05 0.75 0.4" material="mat_wood_light"/>
        <!-- Seat Cushion -->
        <geom name="sl_seat" type="box" pos="0 0 0.35" size="0.32 0.7 0.05" material="mat_cushion_white"/>
        <!-- Back Cushion -->
        <geom name="sl_back" type="box" pos="-0.25 0 0.55" size="0.05 0.7 0.2" material="mat_cushion_white"/>
        
        <!-- Flower Pillow Decoration -->
        <body name="flower_pillow" pos="0 0 0.45" euler="0 -20 0">
            <geom name="fp_center" type="ellipsoid" size="0.06 0.06 0.03" material="mat_flower_center"/>
            <!-- Petals -->
            <geom name="fp_p1" type="ellipsoid" pos="0.08 0 0" size="0.04 0.03 0.01" material="mat_flower_petal"/>
            <geom name="fp_p2" type="ellipsoid" pos="-0.08 0 0" size="0.04 0.03 0.01" material="mat_flower_petal"/>
            <geom name="fp_p3" type="ellipsoid" pos="0 0.08 0" size="0.03 0.04 0.01" material="mat_flower_petal"/>
            <geom name="fp_p4" type="ellipsoid" pos="0 -0.08 0" size="0.03 0.04 0.01" material="mat_flower_petal"/>
            <geom name="fp_p5" type="ellipsoid" pos="0.06 0.06 0" size="0.035 0.035 0.01" material="mat_flower_petal"/>
            <geom name="fp_p6" type="ellipsoid" pos="0.06 -0.06 0" size="0.035 0.035 0.01" material="mat_flower_petal"/>
            <geom name="fp_p7" type="ellipsoid" pos="-0.06 0.06 0" size="0.035 0.035 0.01" material="mat_flower_petal"/>
            <geom name="fp_p8" type="ellipsoid" pos="-0.06 -0.06 0" size="0.035 0.035 0.01" material="mat_flower_petal"/>
        </body>
      </body>

      <!-- Planter Box (Behind Left Sofa) -->
      <body name="planter_box" pos="-1.5 0 0">
         <geom name="pb_box" type="box" pos="0 0 0.2" size="0.15 0.75 0.2" material="mat_wood_light"/>
         <!-- Plants removed -->
         <geom name="pb_soil" type="box" pos="0 0 0.38" size="0.12 0.72 0.02" rgba="0.3 0.2 0.1 1"/>
      </body>

      <!-- Table (Center) -->
      <body name="table_center" pos="0 0 0">
        <geom name="tc_top" type="box" pos="0 0 0.6" size="0.35 0.6 0.02" material="mat_wood_light"/>
        <geom name="tc_leg1" type="box" pos="-0.25 -0.5 0.3" size="0.02 0.02 0.3" material="mat_wood_light"/>
        <geom name="tc_leg2" type="box" pos="0.25 -0.5 0.3" size="0.02 0.02 0.3" material="mat_wood_light"/>
        <geom name="tc_leg3" type="box" pos="-0.25 0.5 0.3" size="0.02 0.02 0.3" material="mat_wood_light"/>
        <geom name="tc_leg4" type="box" pos="0.25 0.5 0.3" size="0.02 0.02 0.3" material="mat_wood_light"/>
        <!-- Central support beam if needed -->
        <geom name="tc_beam" type="box" pos="0 0 0.55" size="0.02 0.5 0.02" material="mat_wood_light"/>
      </body>

      <!-- Sofa 2 (Right) -->
      <body name="sofa_right" pos="1.0 0 0" euler="0 0 180">
        <!-- Wood Base -->
        <geom name="sr_base" type="box" pos="0 0 0.15" size="0.35 0.75 0.15" material="mat_wood_light"/>
        <!-- Back Support -->
        <geom name="sr_back_support" type="box" pos="-0.3 0 0.4" size="0.05 0.75 0.4" material="mat_wood_light"/>
        <!-- Seat Cushion -->
        <geom name="sr_seat" type="box" pos="0 0 0.35" size="0.32 0.7 0.05" material="mat_cushion_white"/>
        <!-- Back Cushion -->
        <geom name="sr_back" type="box" pos="-0.25 0 0.55" size="0.05 0.7 0.2" material="mat_cushion_white"/>
      </body>

    </body>
  </worldbody>
</mujoco>